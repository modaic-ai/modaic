---
title: modaic.precompiled
---

## PrecompiledConfig

```python
class PrecompiledConfig(BaseModel)
```

#### save\_precompiled

```python
def save_precompiled(
        path: str | Path,
        _extra_auto_classes: Optional[Dict[str, object]] = None) -> None
```

Saves the config to a config.json file in the given local folder.
Also saves the auto_classes.json with AutoConfig and any other auto classes passed to _extra_auto_classes

**Arguments**:

- `path` - The local folder to save the config to.
- `_extra_auto_classes` - An argument used internally to add extra auto classes to agent repo

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[C], path: str | Path, **kwargs) -> C
```

Loads the config from a config.json file in the given path. The path can be a local directory or a repo on Modaic Hub.

**Arguments**:

- `path` - The path to load the config from. Can be a local directory or a repo on Modaic Hub.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### from\_dict

```python
@classmethod
def from_dict(cls: Type[C], dict: Dict, **kwargs) -> C
```

Loads the config from a dictionary.

**Arguments**:

- `dict` - A dictionary containing the config.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### from\_json

```python
@classmethod
def from_json(cls: Type[C], path: str, **kwargs) -> C
```

Loads the config from a json file.

**Arguments**:

- `path` - The path to load the config from.
- `**kwargs` - Additional keyword arguments used to override the default config.
  

**Returns**:

  An instance of the PrecompiledConfig class.

#### to\_dict

```python
def to_dict() -> Dict
```

Converts the config to a dictionary.

#### to\_json

```python
def to_json() -> str
```

Converts the config to a json string.

## PrecompiledAgent

```python
class PrecompiledAgent(dspy.Module)
```

Bases: `dspy.Module`

PrecompiledAgent supports observability tracking through DSPy callbacks.

#### forward

```python
def forward(**kwargs) -> str
```

Forward pass for the agent.

**Arguments**:

- `**kwargs` - Additional keyword arguments.
  

**Returns**:

  Forward pass result.

#### save\_precompiled

```python
def save_precompiled(path: str, _with_auto_classes: bool = False) -> None
```

Saves the agent.json and the config.json to the given local folder.

**Arguments**:

- `path` - The local folder to save the agent and config to. Must be a local path.
- `_with_auto_classes` - Internally used argument used to configure whether to save the auto classes mapping.

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[A],
                     path: str | Path,
                     config_options: Optional[dict] = None,
                     **kwargs) -> A
```

Loads the agent and the config from the given path.

**Arguments**:

- `path` - The path to load the agent and config from. Can be a local path or a path on Modaic Hub.
- `config_options` - A dictionary containg key-value pairs used to override the default config.
- `**kwargs` - Additional keyword arguments forwarded to the PrecompiledAgent's constructor.
  

**Returns**:

  An instance of the PrecompiledAgent class.

#### push\_to\_hub

```python
def push_to_hub(repo_path: str,
                access_token: Optional[str] = None,
                commit_message: str = "(no commit message)",
                with_code: bool = False) -> None
```

Pushes the agent and the config to the given repo_path.

**Arguments**:

- `repo_path` - The path on Modaic hub to save the agent and config to.
- `access_token` - Your Modaic access token.
- `commit_message` - The commit message to use when pushing to the hub.
- `with_code` - Whether to save the code along with the agent.json and config.json.

## Retriever

```python
class Retriever(ABC, Trackable)
```

#### from\_precompiled

```python
@classmethod
def from_precompiled(cls: Type[R],
                     path: str | Path,
                     config_options: Optional[dict] = None,
                     **kwargs) -> R
```

Loads the retriever and the config from the given path.

#### save\_precompiled

```python
def save_precompiled(path: str | Path,
                     _with_auto_classes: bool = False) -> None
```

Saves the retriever configuration to the given path.

**Arguments**:

- `path` - The path to save the retriever configuration and auto classes mapping.
- `_with_auto_classes` - Internal argument used to configure whether to save the auto classes mapping.

#### push\_to\_hub

```python
def push_to_hub(repo_path: str,
                access_token: Optional[str] = None,
                commit_message: str = "(no commit message)",
                with_code: bool = False) -> None
```

Pushes the retriever and the config to the given repo_path.

**Arguments**:

- `repo_path` - The path on Modaic hub to save the agent and config to.
- `access_token` - Your Modaic access token.
- `commit_message` - The commit message to use when pushing to the hub.
- `with_code` - Whether to save the code along with the retriever.json and config.json.

