---
title: modaic.module_utils
---

#### is\_builtin

```python
def is_builtin(module_name: str) -> bool
```

Check whether a module name refers to a built-in module.

Params:
module_name: The fully qualified module name.

**Returns**:

- `bool` - True if the module is a Python built-in.

#### is\_stdlib

```python
def is_stdlib(module_name: str) -> bool
```

Check whether a module belongs to the Python standard library.

Params:
module_name: The fully qualified module name.

**Returns**:

- `bool` - True if the module is part of the stdlib (including built-ins).

#### is\_builtin\_or\_frozen

```python
def is_builtin_or_frozen(mod: ModuleType) -> bool
```

Check whether a module object is built-in or frozen.

Params:
mod: The module object.

**Returns**:

- `bool` - True if the module is built-in or frozen.

#### get\_internal\_imports

```python
def get_internal_imports() -> Dict[str, ModuleType]
```

Return only internal modules currently loaded in sys.modules.

Internal modules are defined as those not installed in site/dist packages
(covers virtualenv `.venv` cases as well).

If the environment variable `EDITABLE_MODE` is set to &quot;true&quot; (case-insensitive),
modules located under `src/modaic/` are also excluded.

Params:
None

**Returns**:

  Dict[str, ModuleType]: Mapping of module names to module objects that are
  not located under any &quot;site-packages&quot; or &quot;dist-packages&quot; directory.

#### compute\_cache\_dir

```python
def compute_cache_dir() -> Path
```

Return the cache directory used to stage internal modules.

#### resolve\_project\_root

```python
def resolve_project_root() -> Path
```

Return the project root directory, preferring the parent of pyproject.toml if present.

#### is\_path\_ignored

```python
def is_path_ignored(target_path: Path, ignored_paths: list[Path]) -> bool
```

Return True if target_path matches or is contained within any ignored path.

#### ensure\_package\_initializers

```python
def ensure_package_initializers(base_dir: Path, name_parts: list[str]) -> None
```

Create ancestor package directories and ensure each contains an __init__.py file.

#### is\_external\_package

```python
def is_external_package(path: Path) -> bool
```

Return True if the path is under site-packages or dist-packages.

#### init\_temp\_dir

```python
def init_temp_dir() -> Path
```

Create a temp directory and stage internal modules, excluding ignored files and folders.

#### create\_modaic\_temp\_dir

```python
def create_modaic_temp_dir(package_name: str) -> Path
```

Create a temporary directory inside the Modaic cache. Containing everything that will be pushed to the hub. This function adds the following files:
- All internal modules used to run the agent
- The pyproject.toml
- The README.md

#### get\_ignored\_files

```python
def get_ignored_files(project_root: Path) -> list[Path]
```

Return a list of absolute Paths that should be excluded from staging.

#### create\_pyproject\_toml

```python
def create_pyproject_toml(temp_dir_path: Path, package_name: str)
```

Create a new pyproject.toml for the bundled agent in the temp directory.

#### get\_filtered\_dependencies

```python
def get_filtered_dependencies(dependencies: list[str]) -> list[str]
```

Get the dependencies that should be included in the bundled agent.

#### warn\_if\_local

```python
def warn_if_local(sources: list[dict])
```

Warn if the agent is bundled with a local package.

